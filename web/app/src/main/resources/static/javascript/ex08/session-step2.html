<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>세션다루기</title>
</head>
<body>
<h1>2단계</h1>
<form name="form1">
나이: <input name="age"><br>
<button id="btn1" type="button">다음</button><br>
</form>

<script>
document.querySelector("#btn1").onclick = function() {
  var fd = new FormData(document.forms.namedItem("form1"));
  
  fetch("/session/step2", {
    method: "POST",
    body: new URLSearchParams(fd)
  }).then(function(response){
    // 응답 객체를 텍스트로 파싱해서 리턴한다.
    return response.text();
  }).then(function(text){
    console.log(text);
    location.href = "session-step3.html";
  });
};
</script>
</body>
</html>